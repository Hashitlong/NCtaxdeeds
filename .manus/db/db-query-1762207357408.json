{
  "query": "SELECT county, COUNT(*) as total, \n  SUM(CASE WHEN sourceUrl IS NOT NULL AND sourceUrl != '' THEN 1 ELSE 0 END) as with_url,\n  SUM(CASE WHEN sourceUrl IS NULL OR sourceUrl = '' THEN 1 ELSE 0 END) as without_url\nFROM properties \nGROUP BY county \nHAVING total > 0\nORDER BY county;",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 2KJFRQFNzrdeDiR.root --database ZqyxcVbHtpmzeQq8unDcjn --execute SELECT county, COUNT(*) as total, \n  SUM(CASE WHEN sourceUrl IS NOT NULL AND sourceUrl != '' THEN 1 ELSE 0 END) as with_url,\n  SUM(CASE WHEN sourceUrl IS NULL OR sourceUrl = '' THEN 1 ELSE 0 END) as without_url\nFROM properties \nGROUP BY county \nHAVING total > 0\nORDER BY county;",
  "rows": [
    {
      "county": "Alamance",
      "total": "16",
      "with_url": "1",
      "without_url": "15"
    },
    {
      "county": "Alexander",
      "total": "4",
      "with_url": "0",
      "without_url": "4"
    },
    {
      "county": "Alleghany",
      "total": "4",
      "with_url": "0",
      "without_url": "4"
    },
    {
      "county": "Anson",
      "total": "9",
      "with_url": "4",
      "without_url": "5"
    },
    {
      "county": "Ashe",
      "total": "9",
      "with_url": "0",
      "without_url": "9"
    },
    {
      "county": "Avery",
      "total": "2",
      "with_url": "0",
      "without_url": "2"
    },
    {
      "county": "Beaufort",
      "total": "3",
      "with_url": "0",
      "without_url": "3"
    },
    {
      "county": "Bladen",
      "total": "13",
      "with_url": "13",
      "without_url": "0"
    },
    {
      "county": "Brunswick",
      "total": "4",
      "with_url": "0",
      "without_url": "4"
    },
    {
      "county": "Buncombe",
      "total": "3",
      "with_url": "0",
      "without_url": "3"
    },
    {
      "county": "Burke",
      "total": "21",
      "with_url": "0",
      "without_url": "21"
    },
    {
      "county": "Cabarrus",
      "total": "42",
      "with_url": "37",
      "without_url": "5"
    },
    {
      "county": "Caldwell",
      "total": "13",
      "with_url": "0",
      "without_url": "13"
    },
    {
      "county": "Carteret",
      "total": "1",
      "with_url": "0",
      "without_url": "1"
    },
    {
      "county": "Catawba",
      "total": "9",
      "with_url": "0",
      "without_url": "9"
    },
    {
      "county": "Chatham",
      "total": "1",
      "with_url": "0",
      "without_url": "1"
    },
    {
      "county": "Cherokee",
      "total": "19",
      "with_url": "0",
      "without_url": "19"
    },
    {
      "county": "Chowan",
      "total": "10",
      "with_url": "0",
      "without_url": "10"
    },
    {
      "county": "Clay",
      "total": "3",
      "with_url": "0",
      "without_url": "3"
    },
    {
      "county": "Cleveland",
      "total": "4",
      "with_url": "0",
      "without_url": "4"
    },
    {
      "county": "Columbus",
      "total": "1",
      "with_url": "0",
      "without_url": "1"
    },
    {
      "county": "Craven",
      "total": "7",
      "with_url": "0",
      "without_url": "7"
    },
    {
      "county": "Cumberland",
      "total": "17",
      "with_url": "2",
      "without_url": "15"
    },
    {
      "county": "Currituck",
      "total": "1",
      "with_url": "0",
      "without_url": "1"
    },
    {
      "county": "Dare",
      "total": "1",
      "with_url": "0",
      "without_url": "1"
    },
    {
      "county": "Davidson",
      "total": "3",
      "with_url": "0",
      "without_url": "3"
    },
    {
      "county": "Davie",
      "total": "7",
      "with_url": "0",
      "without_url": "7"
    },
    {
      "county": "Duplin",
      "total": "1",
      "with_url": "0",
      "without_url": "1"
    },
    {
      "county": "Durham",
      "total": "1",
      "with_url": "0",
      "without_url": "1"
    },
    {
      "county": "Edgecombe",
      "total": "23",
      "with_url": "21",
      "without_url": "2"
    },
    {
      "county": "Forsyth",
      "total": "46",
      "with_url": "17",
      "without_url": "29"
    },
    {
      "county": "Franklin",
      "total": "1",
      "with_url": "0",
      "without_url": "1"
    },
    {
      "county": "Gaston",
      "total": "9",
      "with_url": "2",
      "without_url": "7"
    },
    {
      "county": "Gates",
      "total": "2",
      "with_url": "0",
      "without_url": "2"
    },
    {
      "county": "Granville",
      "total": "1",
      "with_url": "0",
      "without_url": "1"
    },
    {
      "county": "Guilford",
      "total": "30",
      "with_url": "0",
      "without_url": "30"
    },
    {
      "county": "Halifax",
      "total": "1",
      "with_url": "0",
      "without_url": "1"
    },
    {
      "county": "Harnett",
      "total": "23",
      "with_url": "0",
      "without_url": "23"
    },
    {
      "county": "Haywood",
      "total": "4",
      "with_url": "0",
      "without_url": "4"
    },
    {
      "county": "Henderson",
      "total": "3",
      "with_url": "0",
      "without_url": "3"
    },
    {
      "county": "Hertford",
      "total": "1",
      "with_url": "0",
      "without_url": "1"
    },
    {
      "county": "Hoke",
      "total": "19",
      "with_url": "16",
      "without_url": "3"
    },
    {
      "county": "Iredell",
      "total": "3",
      "with_url": "0",
      "without_url": "3"
    },
    {
      "county": "Johnston",
      "total": "4",
      "with_url": "0",
      "without_url": "4"
    },
    {
      "county": "Jones",
      "total": "1",
      "with_url": "0",
      "without_url": "1"
    },
    {
      "county": "Lee",
      "total": "1",
      "with_url": "0",
      "without_url": "1"
    },
    {
      "county": "Lenoir",
      "total": "3",
      "with_url": "0",
      "without_url": "3"
    },
    {
      "county": "Lincoln",
      "total": "7",
      "with_url": "0",
      "without_url": "7"
    },
    {
      "county": "Madison",
      "total": "4",
      "with_url": "0",
      "without_url": "4"
    },
    {
      "county": "Martin",
      "total": "8",
      "with_url": "0",
      "without_url": "8"
    },
    {
      "county": "McDowell",
      "total": "5",
      "with_url": "0",
      "without_url": "5"
    },
    {
      "county": "Mcdowell",
      "total": "5",
      "with_url": "3",
      "without_url": "2"
    },
    {
      "county": "Mecklenburg",
      "total": "51",
      "with_url": "0",
      "without_url": "51"
    },
    {
      "county": "Montgomery",
      "total": "2",
      "with_url": "0",
      "without_url": "2"
    },
    {
      "county": "Moore",
      "total": "2",
      "with_url": "0",
      "without_url": "2"
    },
    {
      "county": "Nash",
      "total": "5",
      "with_url": "0",
      "without_url": "5"
    },
    {
      "county": "New Hanover",
      "total": "5",
      "with_url": "0",
      "without_url": "5"
    },
    {
      "county": "Northampton",
      "total": "6",
      "with_url": "0",
      "without_url": "6"
    },
    {
      "county": "Onslow",
      "total": "13",
      "with_url": "0",
      "without_url": "13"
    },
    {
      "county": "Orange",
      "total": "2",
      "with_url": "0",
      "without_url": "2"
    },
    {
      "county": "Pamlico",
      "total": "1",
      "with_url": "0",
      "without_url": "1"
    },
    {
      "county": "Pasquotank",
      "total": "3",
      "with_url": "0",
      "without_url": "3"
    },
    {
      "county": "Pender",
      "total": "2",
      "with_url": "0",
      "without_url": "2"
    },
    {
      "county": "Perquimans",
      "total": "2",
      "with_url": "0",
      "without_url": "2"
    },
    {
      "county": "Person",
      "total": "6",
      "with_url": "0",
      "without_url": "6"
    },
    {
      "county": "Pitt",
      "total": "5",
      "with_url": "0",
      "without_url": "5"
    },
    {
      "county": "Polk",
      "total": "5",
      "with_url": "0",
      "without_url": "5"
    },
    {
      "county": "Randolph",
      "total": "1",
      "with_url": "0",
      "without_url": "1"
    },
    {
      "county": "Richmond",
      "total": "24",
      "with_url": "0",
      "without_url": "24"
    },
    {
      "county": "Robeson",
      "total": "14",
      "with_url": "0",
      "without_url": "14"
    },
    {
      "county": "Rockingham",
      "total": "3",
      "with_url": "0",
      "without_url": "3"
    },
    {
      "county": "Rowan",
      "total": "23",
      "with_url": "0",
      "without_url": "23"
    },
    {
      "county": "Rutherford",
      "total": "23",
      "with_url": "0",
      "without_url": "23"
    },
    {
      "county": "Scotland",
      "total": "13",
      "with_url": "0",
      "without_url": "13"
    },
    {
      "county": "Stanly",
      "total": "1",
      "with_url": "0",
      "without_url": "1"
    },
    {
      "county": "Stokes",
      "total": "7",
      "with_url": "0",
      "without_url": "7"
    },
    {
      "county": "Surry",
      "total": "13",
      "with_url": "0",
      "without_url": "13"
    },
    {
      "county": "Transylvania",
      "total": "10",
      "with_url": "0",
      "without_url": "10"
    },
    {
      "county": "Union",
      "total": "8",
      "with_url": "0",
      "without_url": "8"
    },
    {
      "county": "Wake",
      "total": "8",
      "with_url": "0",
      "without_url": "8"
    },
    {
      "county": "Warren",
      "total": "8",
      "with_url": "0",
      "without_url": "8"
    },
    {
      "county": "Washington",
      "total": "1",
      "with_url": "0",
      "without_url": "1"
    },
    {
      "county": "Wayne",
      "total": "3",
      "with_url": "0",
      "without_url": "3"
    },
    {
      "county": "Wilkes",
      "total": "1",
      "with_url": "0",
      "without_url": "1"
    },
    {
      "county": "Wilson",
      "total": "4",
      "with_url": "0",
      "without_url": "4"
    },
    {
      "county": "Yadkin",
      "total": "6",
      "with_url": "0",
      "without_url": "6"
    }
  ],
  "messages": [],
  "stdout": "county\ttotal\twith_url\twithout_url\nAlamance\t16\t1\t15\nAlexander\t4\t0\t4\nAlleghany\t4\t0\t4\nAnson\t9\t4\t5\nAshe\t9\t0\t9\nAvery\t2\t0\t2\nBeaufort\t3\t0\t3\nBladen\t13\t13\t0\nBrunswick\t4\t0\t4\nBuncombe\t3\t0\t3\nBurke\t21\t0\t21\nCabarrus\t42\t37\t5\nCaldwell\t13\t0\t13\nCarteret\t1\t0\t1\nCatawba\t9\t0\t9\nChatham\t1\t0\t1\nCherokee\t19\t0\t19\nChowan\t10\t0\t10\nClay\t3\t0\t3\nCleveland\t4\t0\t4\nColumbus\t1\t0\t1\nCraven\t7\t0\t7\nCumberland\t17\t2\t15\nCurrituck\t1\t0\t1\nDare\t1\t0\t1\nDavidson\t3\t0\t3\nDavie\t7\t0\t7\nDuplin\t1\t0\t1\nDurham\t1\t0\t1\nEdgecombe\t23\t21\t2\nForsyth\t46\t17\t29\nFranklin\t1\t0\t1\nGaston\t9\t2\t7\nGates\t2\t0\t2\nGranville\t1\t0\t1\nGuilford\t30\t0\t30\nHalifax\t1\t0\t1\nHarnett\t23\t0\t23\nHaywood\t4\t0\t4\nHenderson\t3\t0\t3\nHertford\t1\t0\t1\nHoke\t19\t16\t3\nIredell\t3\t0\t3\nJohnston\t4\t0\t4\nJones\t1\t0\t1\nLee\t1\t0\t1\nLenoir\t3\t0\t3\nLincoln\t7\t0\t7\nMadison\t4\t0\t4\nMartin\t8\t0\t8\nMcDowell\t5\t0\t5\nMcdowell\t5\t3\t2\nMecklenburg\t51\t0\t51\nMontgomery\t2\t0\t2\nMoore\t2\t0\t2\nNash\t5\t0\t5\nNew Hanover\t5\t0\t5\nNorthampton\t6\t0\t6\nOnslow\t13\t0\t13\nOrange\t2\t0\t2\nPamlico\t1\t0\t1\nPasquotank\t3\t0\t3\nPender\t2\t0\t2\nPerquimans\t2\t0\t2\nPerson\t6\t0\t6\nPitt\t5\t0\t5\nPolk\t5\t0\t5\nRandolph\t1\t0\t1\nRichmond\t24\t0\t24\nRobeson\t14\t0\t14\nRockingham\t3\t0\t3\nRowan\t23\t0\t23\nRutherford\t23\t0\t23\nScotland\t13\t0\t13\nStanly\t1\t0\t1\nStokes\t7\t0\t7\nSurry\t13\t0\t13\nTransylvania\t10\t0\t10\nUnion\t8\t0\t8\nWake\t8\t0\t8\nWarren\t8\t0\t8\nWashington\t1\t0\t1\nWayne\t3\t0\t3\nWilkes\t1\t0\t1\nWilson\t4\t0\t4\nYadkin\t6\t0\t6\n",
  "stderr": "",
  "execution_time_ms": 113
}